{% extends 'base.html' %}

{% block title %} Home{% endblock title %}

{% block css %}
<style>
    body {
            {
            % comment %
        }

        background-color: rgb(253, 238, 238);

            {
            % endcomment %
        }

        width: 99vw;
        overflow-x: hidden; /* Hide horizontal scrollbar */
    }

    .Heading {
        color: rgb(1, 17, 110);
        text-align: center;
        padding: 2vh;
position: relative;
top: 7vh;
font-size: 7vw;
        font-family:Arial, Helvetica, sans-serif;
    }

    .content {
        position: relative;
top: 3vh;
        font-family: 'Bree Serif', serif;

        display: block;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 3px solid green;
        /* background-color: rgb(224, 223, 223); */
        color: rgb(14, 10, 231);
        /* box-shadow: white 99px 7px 7px; */
    }

    

    h3 {
        font-size: 7vw;
        text-align: center;
    }

    p {
        text-align: center;
    }

    .card-header {
        background-color: rgb(8, 0, 83);
        font-size: larger;
        color: white;

    }

    .card-body {
        background-color: transparent;
        color: rgb(18, 12, 95);
    }

    .card {
        position: absolute;
        left: 20%;
        right: 20%;
    }

    #u {
        /* background: linear-gradient(45deg, #ff9c9c, rgb(166, 245, 255), #ffa3a3, rgb(40, 230, 255)); */
        animation: bbt 2s ease infinite;
        background-size: 200% 200%;
        /* border-radius: 8em; */
    }


    .chat {
        height: 60vh;
        width: 50vw;
        display:none;
        /* background-color: rgb(79, 161, 90); */
        position: relative;
        top: 60vh;
        margin: auto;
        overflow: scroll;
        /* overflow-x: ; */
        /* padding-bottom: vh; */
    }

    .msgs {
        height: 80%;
        width: 100%;    /* background-color: rgb(230, 255, 204); */
    }
    .user{
        float: right;
        background-color: rgb(186, 248, 178);
        
    }
    .other{
        float: left;
        background-color: white;
    }
  

    img {
        width: 99.9vw;
        height: 100vh;
        position: absolute;
        z-index: -99999;
        opacity: 0.8;
    }


        {
        % block h %
    }

    height:200vh;

        {
        % endblock h %
    }
    

    height:200vh;
    .alr{
position: sticky; 
   }
@media only screen and (max-width: 886px) {
.wid{
    width: 94vw;
    position: static;
    top: 15vh;
        
        margin: auto;

}
img {
        width: 100vw;
        height: 100vh;
        position: absolute;
        left: -90vh;
        z-index: -99999;
        opacity: 0.8;
    }
    .Heading{
position: relative;
top: 1vh;    }




}
</style>
{% endblock css %}



{% block body %}



{% load static %}
<img src="{% static "imgs/hh.jpg" %}" alt="home" />

<div class="Heading">Welcome To Our Website</div>


<div class="card text-center wid my-4">
    <div class="card-header ">
        Welcome
    </div>
    <div id="u" class="card-body">
        <h3 class="card-title">Covid Survivors</h3>
        <p class="card-text" style="font-family: 'Times New Roman'; font-size: 1.2em;color: rgb(5, 0, 76);" >A platform where details(age, address, blood group, contact no. of the covid+ patients who have been recovered will be registered with authentication so that it can be used later by the needy. Providing an open chat option for others to take advice and help keeping patients mentally healthy.
        </p>
      <button class="btn-hover color-7">Get Started</button>

    </div>
</div>






{% comment %} <script type="text/javascript">
    var a = "{{request.user}}";
    
$('#msg_form').submit(function(event) {
    var msg =  document.getElementById("msg_send").value;
    // $('#showdata').empty();
    var formData = {
        'msg': msg,
       
        'csrfmiddlewaretoken': $('input[name=csrfmiddlewaretoken]').val()
    };
    $.ajax({
            type: 'POST',
            url: '',
            data: formData,
            encode: true
        })
        .done(function(data) {
       
       
        });
    event.preventDefault();

});
var a = "{{request.user}}"
    {% comment %} console.log(a); {% endcomment %}


{% comment %} var g="";
setInterval(() => {
    
    console.log("working")
    fetch('/chatt')
    .then(response => response.json())
    .then(data => {
        str = ""
        console.log("fs")
       data.forEach(e => {
        if(e.un == a){           
        str = str + `<p class="user"><small> <b>${e.name}</b> </small> ${e.msg} </p><br><hr>`}
        else{
        str = str + `<p class="other"><small> <b>${e.name}</b> </small> ${e.msg} </p><br><hr>`}

        }
           
    );
    document.getElementById('msgs').innerHTML = str
        
    })
},1000);

</script> {% endcomment %}


{% endblock body %} 
{% comment %} {% block js %}

{% load static %}
<script src="{% static 'chat.js' %}"></script>
{% endblock js %}  {% endcomment %}